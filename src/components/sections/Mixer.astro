---
import Effect from "@components/Effect";
import AirplaneIcon from "@components/icons/Airplane";
import BirdIcon from "@components/icons/Bird";
import CafeIcon from "@components/icons/Cafe";
import FireplaceIcon from "@components/icons/Fireplace";
import LeafIcon from "@components/icons/Leaf";
import RainyIcon from "@components/icons/Rainy";
import TrainIcon from "@components/icons/Train";
import WavesIcon from "@components/icons/Waves";

const { mixer } = Astro.locals.texts;

const effectsConfig = [
	{ id: "rain", title: mixer.sounds.rain, icon: RainyIcon },
	{ id: "airplane", title: mixer.sounds.flight, icon: AirplaneIcon },
	{ id: "coffee", title: mixer.sounds.cafe, icon: CafeIcon },
	{ id: "sea", title: mixer.sounds.sea, icon: WavesIcon },
	{ id: "birds", title: mixer.sounds.birds, icon: BirdIcon },
	{ id: "crickets", title: mixer.sounds.crickets, icon: LeafIcon },
	{ id: "fire", title: mixer.sounds.fireplace, icon: FireplaceIcon },
	{ id: "train", title: mixer.sounds.train, icon: TrainIcon },
];
---

<style is:inline>
	section#mixer .container > .effect-container {
		display: grid;
		grid-template-columns: repeat(auto-fit, minmax(min(100%, 20ch), 1fr));
		grid-auto-rows: 270px;
		gap: 30px;
		margin-top: 20px;

		& > .effect-item {
			display: grid;
		}
	}

	@media (max-width: 670px) {
		section#mixer {
			padding: 30px 0;
		}
		section#mixer > .box {
			padding: 50px 30px;
			border: none;
		}
		section#mixer h1 {
			letter-spacing: 0.06em;
		}
		section#mixer p {
			line-height: 1.6lh;
		}
	}
</style>

<section id="mixer">
	<div class="box">
		<div class="container">
			<h1>{mixer.title}</h1>
			<p>{mixer.description}</p>
			<div class="effect-container">
				{
					effectsConfig.map(({ id, title, icon: Icon }) => (
						<div class="effect-item">
							<Effect
								client:visible
								effectTitle={title}
								effectStatus={mixer.effectStatus}
								playlistId={id}>
								<Icon />
							</Effect>
						</div>
					))
				}
			</div>
		</div>
	</div>
</section>
